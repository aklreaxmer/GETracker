<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>UC Davis GE Tracker</title>

 
  <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.js"></script>
  <![endif]-->


</head>

<body>
	<button onClick="openOasis()">OASIS</button>
  <script>

  function openOasis() {
  	window.open("https://students.ucdavis.edu/student/courses.aspx");
  }
  
  function processCourses(courses) {
 		makeTable("ECS30", 5);
  }

  window.onload = function() {
  	  window.addEventListener('message', function(e) {
  	  var courses = e.data;
  	  processCourses(courses);
	  window.alert("Courses imported.");
	});
  }

  function makeTable(title, numCourses){
    var body = document.body,
    tbl  = document.createElement('table');
    tbl.style.width  = '10%';
    tbl.style.border = '1px solid black';
    var tr = tbl.insertRow();
    var titleCell = tr.insertCell();
    titleCell.appendChild(document.createTextNode(title));
    var unitsCell = tr.insertCell();
    unitsCell.appendChild(document.createTextNode("Units"));
    titleCell.style.fontSize = '1.5em';
    titleCell.style.fontWeight = 'bold';
    for(var i = 0; i < numCourses; i++){
      
        var tr = tbl.insertRow();
        var td = tr.insertCell();
        td.appendChild(document.createTextNode('Cell'));
        td.style.border = '1px solid black';
    
    }
    body.appendChild(tbl);
}

</script>

</body>
</html>